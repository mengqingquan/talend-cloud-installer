---
nexus::enable_anonymous_access: false
nexus::initialize_passwords: true
nexus::set_user_root: true

profile::nexus::nexus_nodes: "%{::nexus_nodes}"
profile::nexus::nexus_nodes_port: "%{::nexus_nodes_port}"
profile::nexus::storage_device: "%{::storage_device}"

cloudwatchlog_files:
  "/talend/tic/%{::main_stack}/%{::puppet_role}/srv/sonatype-work/nexus/logs/nexus.log":
    path: '/srv/sonatype-work/nexus/logs/nexus.log'
  "/talend/tic/%{::main_stack}/%{::puppet_role}/srv/sonatype-work/nexus/logs/request.log":
    path: '/srv/sonatype-work/nexus/logs/request.log'

cloudwatch::metrics:
  DiskSpace:
    type              : diskspace
    params            : '-f /srv'
    unit              : Percent
    description       : 'Percentage of used disk space for nexus'
    statistic         : 'Average'
    period            : 300
    evaluationperiods : 3
    threshold         : 80
    comparisonoperator: "GreaterThanThreshold"
